--- a/dwm.c
+++ b/dwm.c
@@
 #include <X11/Xatom.h>
 
+static Atom _DWM_CFACT;
+static Atom _DWM_MFACT;
+
 /* … */
 
 int
 main(int argc, char *argv[])
 {
@@
 	if (!(dpy = XOpenDisplay(NULL)))
 		die("dwm: cannot open dpy");
 
+	_DWM_CFACT = XInternAtom(dpy, "_DWM_CFACT", False);
+	_DWM_MFACT = XInternAtom(dpy, "_DWM_MFACT", False);
+
 	/* … */
 }
 
+static void
+setcardprop(Window w, Atom prop, long val)
+{
+	XChangeProperty(dpy, w, prop, XA_CARDINAL, 32,
+	                PropModeReplace, (unsigned char *)&val, 1);
+}
+
+static void
+updatecfactprop(Client *c)
+{
+	long v = (long)(c->cfact * 0x10000);
+	setcardprop(c->win, _DWM_CFACT, v);
+}
+
+static void
+updatemfactprop(Monitor *m)
+{
+	long v = (long)(m->mfact * 0x10000);
+	setcardprop(selmon->sel->win, _DWM_MFACT, v);
+}
+
 void
 setcfact(const Arg *arg)
 {
@@
-	c->cfact = f;
+	c->cfact = f;
+	updatecfactprop(c);
 }
 
 void
 setmfact(const Arg *arg)
 {
@@
-	m->mfact = f;
+	m->mfact = f;
+	updatemfactprop(m);
 }
 
 void
 arrange(Monitor *m)
 {
@@
 	showhide(m->stack);
 	if (m->lt[m->sellt]->arrange)
 		m->lt[m->sellt]->arrange(m);
+	if (m->sel)
+		updatecfactprop(m->sel);
+	updatemfactprop(m);
 }
 
 void
 focusmon(const Arg *arg)
 {
@@
 	if (!mons->next)
 		return;
 	selmon = dirtomon(arg->i);
 	focus(NULL);
+	updatemfactprop(selmon);
 }
